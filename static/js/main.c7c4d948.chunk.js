(this["webpackJsonptinder-game"]=this["webpackJsonptinder-game"]||[]).push([[0],{50:function(e,t,n){e.exports=n.p+"static/media/phone-wrapper.6aa6c63b.png"},54:function(e,t,n){e.exports=n(89)},59:function(e,t,n){},73:function(e,t,n){},88:function(e){e.exports=JSON.parse('{"inkVersion":19,"root":[["^Hey!","\\n",["ev",{"^->":"0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":"0.c-0","flg":18},{"s":["^Hi",{"->":"$r","var":true},null]}],["ev",{"^->":"0.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":"0.c-1","flg":18},{"s":["^Howdy",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":"0.2.s"},[{"#n":"$r2"}],"\\n",{"->":"0.g-0"},{"#f":5}],"c-1":["ev",{"^->":"0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":"0.3.s"},[{"#n":"$r2"}],"\\n","^Howdy, lol","\\n",{"->":"0.g-0"},{"#f":5}],"g-0":["^How are you?","\\n",["ev",{"^->":"0.g-0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^I\'m good!",{"->":"$r","var":true},null]}],["ev",{"^->":"0.g-0.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":18},{"s":["^I\'ve been better",{"->":"$r","var":true},null]}],{"c-2":["ev",{"^->":"0.g-0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\\n","^I\'m glad to hear!","\\n",{"->":"0.g-1"},{"#f":5}],"c-3":["ev",{"^->":"0.g-0.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\\n","^Oh, what\'s up?","\\n",[["ev",{"^->":"0.g-0.c-3.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^oh, it\'s nothing",{"->":"$r","var":true},null]}],["ev",{"^->":"0.g-0.c-3.9.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^Just a bad day",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"0.g-0.c-3.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"0.g-0.c-3.9.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\\n","^I\'m sorry to hear that","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^if you ever want to talk I\'m here","\\n",["ev",{"^->":"0.g-0.c-3.9.g-0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Thanks!",{"->":"$r","var":true},null]}],{"c-2":["ev",{"^->":"0.g-0.c-3.9.g-0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\\n",{"->":"0.g-1"},{"#f":5}],"#f":5}]}],{"#f":5}],"#f":5}],"g-1":["^do you use this app often?","\\n",["ev",{"^->":"0.g-1.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-4","flg":18},{"s":["^Yes",{"->":"$r","var":true},null]}],["ev",{"^->":"0.g-1.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-5","flg":18},{"s":["^No",{"->":"$r","var":true},null]}],{"c-4":["ev",{"^->":"0.g-1.c-4.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\\n",{"->":"0.g-2"},{"#f":5}],"c-5":["ev",{"^->":"0.g-1.c-5.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\\n",{"->":"0.g-2"},{"#f":5}],"#f":5}],"g-2":["done",{"#f":5}]}],"done",{"#f":1}],"listDefs":{}}')},89:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(31),i=n.n(s),o=(n(59),n(24)),c=n(25),l=n(53),h=n(51),g=n(50),m=n.n(g),u={transform:"translateX(calc(50vw - 50%))",height:"100vh",width:"".concat(7e4/1200,"vh"),backgroundImage:"url(".concat(m.a,")"),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",justifyContent:"space-between",position:"relative"},v={flexGrow:1,flexShrink:1,flexBasis:"auto",overflow:"auto",margin:"10vh 7vh"};function d(e){var t=e.children;return a.a.createElement("div",{style:u},a.a.createElement("div",{style:v},t))}var f=n(18),p={width:"100%",padding:"1em 3em 1em ",margin:0,background:"white",fontWeight:"bold",boxShadow:"0 2px 2px rgba(0,0,0,0.3)",fontSize:"115%",zIndex:1},y=function(e){var t=e.children;return a.a.createElement("div",{style:p},t)},$=n(33),M=n.n($),S=(n(73),{boxSizing:"border-box",background:"red",height:"100%",display:"flex",flexDirection:"column"}),b={padding:"2em",background:"white",flexGrow:1,overflow:"auto"},k={backgroundColor:"#2095FE",color:"#fff",display:"inline-block",borderRadius:"20px 20px 20px 20px",padding:"10px 20px",margin:"0.6em",position:"relative",textAlign:"left"},x=Object(f.a)(Object(f.a)({},k),{},{backgroundColor:"lightgray",color:"#222"}),w={borderColor:"#2095FE",borderRadius:"50% 50% 50% 50%",borderStyle:"solid",borderWidth:"0 0.7em",clip:"rect(1em, 1em, 2em, 0)",height:"2em",position:"absolute",right:"calc(0.3vh - 2em)",bottom:0,width:"40px"},T=Object(f.a)(Object(f.a)({},w),{},{borderColor:"lightgray",left:"calc(0.3vh - 2em)",transform:" rotateY(180deg)"});function C(){return a.a.createElement("div",{className:"loadingContainer"},a.a.createElement("div",{className:"ball1"}),a.a.createElement("div",{className:"ball2"}),a.a.createElement("div",{className:"ball3"}))}function E(e){var t=e.chatMessage,n=t.fromPlayer,r=n?k:x;return a.a.createElement("div",{style:{position:"relative",textAlign:n?"right":"left"},key:t.id},a.a.createElement("div",{style:r,className:n?"fromPlayer":"fromMatch"},a.a.createElement("div",{style:n?w:T}),t.isBeingTyped?a.a.createElement(C,null):t.text))}function I(e){var t=e.choice,n=e.onChoiceSelected;return a.a.createElement("pre",{onClick:function(){return n(t)},key:t.text,className:"playerChoice"},t.text)}var L=function(e){var t=e.matchThread,n=e.onChange,r=t.match,s=t.getCurrentChoices(),i=t.getMessages();return console.log(s.length),a.a.createElement("div",{style:S},a.a.createElement(y,null,r.name),a.a.createElement("div",{style:b},a.a.createElement(M.a,{transitionName:"item",transitionEnterTimeout:600,transitionLeaveTimeout:300},i.map((function(e){return a.a.createElement(E,{key:e.id,chatMessage:e})}))),a.a.createElement(M.a,{transitionName:"item",transitionEnterTimeout:600,transitionLeaveTimeout:300},s.map((function(e){return a.a.createElement(I,{choice:e,onChoiceSelected:function(e){t.applyChoice(e),n()}})})))))},O=n(52),j=n(32),N=function(){function e(t){Object(o.a)(this,e),this.match=void 0,this.sentMessages=void 0,this.conversationStory=void 0,this.matchIsTyping=!1,this.timeBetweenMatchMessages=1750,this.timeToTypeMessage=1500,this.timeToReply=7e3,this.timeSinceLastMatchMessage=0,this.timeSinceMessageStartedBeingTyped=0,this.timeSinceLastPlayerMessage=0,this.match=t,this.sentMessages=[];var r=n(88),a=new j.Story(r);this.conversationStory=a}return Object(c.a)(e,[{key:"tick",value:function(e){if(this.timeSinceLastMatchMessage+=e,this.timeSinceMessageStartedBeingTyped+=e,this.timeSinceLastPlayerMessage+=e,this.conversationStory.canContinue&&!(this.conversationStory.currentChoices.length>0))if(this.matchIsTyping){if(this.timeSinceMessageStartedBeingTyped<this.timeToTypeMessage)return;var t=this.conversationStory.Continue();if(null===t)throw new Error("Null message");this.sendMatchMessage({text:t})}else{var n=(this.didMatchSendLastMessage()?this.timeBetweenMatchMessages:this.timeToReply)-this.timeToTypeMessage,r=this.timeSinceLastMessage();if(console.log({timeSinceLastMessage:r}),r<n)return;this.timeSinceMessageStartedBeingTyped=0,this.matchIsTyping=!0}}},{key:"timeSinceLastMessage",value:function(){return this.didMatchSendLastMessage()?this.timeSinceLastMatchMessage:this.timeSinceLastPlayerMessage}},{key:"sendMatchMessage",value:function(e){var t=e.text;this.timeSinceLastMatchMessage=0,this.matchIsTyping=!1,this.sentMessages.push({id:this.sentMessages.length,fromPlayer:!1,text:t})}},{key:"getCurrentChoices",value:function(){return this.canSpeak()?this.conversationStory.currentChoices:[]}},{key:"canSpeak",value:function(){return!this.conversationStory.canContinue&&!this.matchIsTyping}},{key:"getMessages",value:function(){return this.matchIsTyping?[].concat(Object(O.a)(this.sentMessages),[{isBeingTyped:!0,id:-3*this.sentMessages.length-100}]):this.sentMessages}},{key:"didMatchSendLastMessage",value:function(){var e=this.sentMessages.length-1;return-1!==e&&!this.sentMessages[e].fromPlayer}},{key:"applyChoice",value:function(e){this.timeSinceLastPlayerMessage=0;var t="number"===typeof e?e:this.getCurrentChoices().indexOf(e);if(-1===t)throw console.error(e,t,this.conversationStory),new Error("Invalid Index");this.conversationStory.ChooseChoiceIndex(t);var n=this.conversationStory.Continue();n&&this.sentMessages.push({id:this.sentMessages.length,fromPlayer:!0,text:n})}}]),e}(),B={name:"Alex",traits:[]},P=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={matchThread:new N(B)},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){var t=e.state.matchThread;t.tick(100),e.setState({matchThread:t})}),100)}},{key:"onChange",value:function(){var e=this.state.matchThread;this.setState({matchThread:e})}},{key:"render",value:function(){var e=this,t=this.state.matchThread;return a.a.createElement("div",{className:"App"},a.a.createElement(d,null,a.a.createElement(L,{matchThread:t,onChange:function(){return e.onChange()}})))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.c7c4d948.chunk.js.map